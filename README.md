### `JQPL`
    
 - 조회 쿼리 시, 영속성 컨텍스트에 저장 > `upadate` 문 가능

---

### `JPA` 서브쿼리 한계 

- `FROM` 절의 서브 쿼리는 `JPQL`에서 불가능 -> 어플리케이션 단에서 해결 혹은 쿼리를 여러번

---

### 경로 표현식 

- 상태 필드 : 경로 탐색의 끝 탐색 X
- 단일 값 연관 경로 : 묵시적 내부 조인 발생 탐색 O
- 컬렉션 값 연관 경로 : 목시적 내부 조인 발생, 탐색 X

```text
묵시적 내부 조인은 성능 튜닝이 어려움
-> 현업에서는 묵시적 내부 조인 사용 X 권장
```

---

### 🔥 페치 조인 

 - N + 1 쿼리 방지 조인
 - `distinct` : 컬렉션 페치 조인 때 사용 - 데이터 커지는 것을 방지 
   - `SQL`의 `distinct`와 다르며, 엔티티의 중복을 제거 한다는 개념이다. 
 - 페치 조인을 사용할 때만 연관된 엔티티도 함께 조회 (즉시 로딩)
 - 페치 조인 대상에는 별칭을 줄 수 없다. 
 - 둘 이상의 컬렉션은 페치 조인 할 수 없다.
 - 컬렉션을 페치 조인하면 페이징 API를 사용할 수 없다.
 - `@BatchSize`를 활용하면 `N + 1` 을 해결할 수 있다.
 - 실무에서 글로벌 로딩 전략은 모두 지연 로딩 
 - 최적화가 필요한 곳은 페치 조인 적용

--- 

### Named 쿼리

- 어플리케이션 로딩 시점에 쿼리를 검증

---

### 벌크 연산 

- 영속성 컨텍스트를 무시하고 데이터베이스에 직접 쿼리 
- 벌크 연산 수행 후 영속성 컨텍스트 초기화 필수
